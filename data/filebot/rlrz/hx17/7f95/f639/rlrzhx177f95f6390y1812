{"data":{"css":".filesearchbg{\n  position:relative;\n  z-index:10;\n  background-color:white;\n}\n\n","data":[],"name":"search","js":"var me = this;\nvar ME = $('#'+me.UUID)[0];\n\nme.ready = function(){\n  componentHandler.upgradeAllRegistered();\n  \n  me.prefix = ME.DATA.peer ? '../peerbot/remote/'+ME.DATA.peer+'/' : '../';\n  document.searchFiles = searchFiles;\n};\n\nfunction searchFiles(){\n  $(ME).find('.filesearchresults').empty();\n  var query = $(ME).find('.filesearchquery').val();\n  var path = ME.DATA.path ? ME.DATA.path : '/';\n  var params = 'path='+encodeURIComponent(path)+'&query='+encodeURIComponent(query)+'&uuid='+encodeURIComponent(me.UUID);\n      \n  json(me.prefix+'filebot/search', params, function(result){\n    var el = $(ME).find('.filesearchresults');\n    if (!me.gotwsdata){\n      if (result.list.length>0)\n        for (var i in result.list)\n          el.append('<pre>'+result.list[i]+'<\/pre>');\n      else el.append('<i>no results found<\/i>');\n    }\n    me.gotwsdata = false;\n  }, ME.DATA.peer);\n}\n\nme.wscb = function(x){\n  me.gotwsdata = true;\n  $(ME).find('.filesearchresults').append('<pre>'+x.msg+'<\/pre>');\n};\n\n$(document).click(function(event) {\n   window.lastElementClicked = event.target;\n});\n","groups":"anonymous","ctl":"rlrzhx177f95f6390y1812","html":"<div class='filesearchbg'>\n  <form class=\"searchform\" action=\"javascript:document.searchFiles();\">\n    <div class=\"mdl-textfield mdl-js-textfield\">\n      <input class=\"mdl-textfield__input filesearchquery\" type=\"text\" id=\"filesearchquery\">\n      <label class=\"mdl-textfield__label\" for=\"filesearchquery\">Search...<\/label>\n    <\/div>\n  <\/form>\n  <div class='filesearchresults'><\/div>\n<\/div>","cmd":[{"java":"ovnrlo177f9858b77j1c8d","name":"search","id":"zsknik177f9858b7ai1c8e"}],"three":{"controls":[],"assets":[],"behaviors":[],"animations":[],"poses":[]},"db":"filebot","desc":""},"readers":["anonymous"],"id":"rlrzhx177f95f6390y1812","sessionid":"jvgvwg16b7a4d277bt3","time":1628876935430,"addr":"/0:0:0:0:0:0:0:1:35772","username":"admin"}